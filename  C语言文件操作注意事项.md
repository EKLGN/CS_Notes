# C语言文件操作注意事项


## 目录：
 1.打开 文件的模式

2.用a读，r写时相应结果

3.a+模式从什么地方读取

4.fgets和fputs gets和puts

5.fseek和ftell在二进制模式和文本模式下的行为

6.一个指向字符串的 指针多次用fscanf函数写入字符，字符串的值

## 正文：

### 1.打开 文件的模式
打开文件的模式有**二进制模式**和**文本模式**。

* 在文本模式中，文件的内容将被映射为C模式，并不逐字节读取文件内容；在二进制模式中，文件的内容会被逐字节的原封不动地读取。
* 对于windows系统而言，二进制模式与文本模式的差别，但对于UNIX系统而言，只有一种文件模式（二进制模式与文本模式没有区别）。

### 2.用a读，r写时的相应结果
* a只能用于在文件末尾添加，不能读取文件内容。用a读取时会读取失败，即**无法读取到内容**。
* r只能用与读取文件，不能修改文件。用r修改文件时会修改失败，即**无法修改文件内容**。

### 3.a+模式从什么地方读取
* 读取文件都是从文件开头读取。

### 4.fgets ～ fputs  gets～puts
####  fgets（buf，STLEN，fp）
1. 其中buf是字符数组名（**不能直接为指针**，会出错），STLEN是字符串大小（**包含'/0'**）， fp是文件指针。
2. fgets函数读取输入知道第一个换行符后面（当换行符的位置在STLEN-1内时，最终字符串包含换行符，或者读到文件结尾EOF，或者读取STLEN-1个字符，最后fgets函数 在末尾添加空字符'\0'使之成为一个字符串。
3. 当fgets函数成功读取是返回第一个参数（指针变量），当读取到EOF是返回NULL。

####fputs（buf，fp)

1.buf是字符串地址（指针），fp是输出目标文件。
2.fputs与fgets配合使用，由于fgets保留换行符，因此fputs并不添加换行符。
3.fputs输出字符一直到空字符'\0'，当不存在空字符时**可能**出问题。

* gets

* puts

### 5.fseek和ftell在二进制模式和文本模式下的行为

*

*

